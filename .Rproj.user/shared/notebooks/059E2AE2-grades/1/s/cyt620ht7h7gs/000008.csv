"0","`%notin%` <- Negate(`%in%`)"
"0","percent_grade <- dat %>%"
"0","    count(Term, Grade) %>%"
"0","    group_by(Term) %>%"
"0","    mutate(Percent = n / sum(n) * 100) %>%"
"0","    ungroup()"
"0",""
"0","percent_pfw <- dat %>%"
"0","    count(Term, pfw) %>%"
"0","    group_by(Term) %>%"
"0","    mutate(Percent = n / sum(n) * 100) %>%"
"0","    ungroup() %>%"
"0","    filter(pfw == ""PASS"" | pfw == ""FAIL"" | pfw == ""W"") "
"0",""
"0","p <- percent_grade %>%"
"0","  add_case(Term = ""20193"",Grade = ""S"",n= 0,Percent = 0)%>%"
"0","  add_case(Term = ""20183"",Grade = ""IC"",n= 0,Percent = 0)%>%"
"0","  add_case(Term = ""20193"",Grade = ""IC"",n= 0,Percent = 0)%>%"
"0","    ggplot(aes(x = Grade, y = Percent, fill = Term)) +"
"0","    geom_bar(stat = ""identity"", position = position_dodge(width = .9), width = .8)+"
"0","  ggsci::scale_fill_npg(name = ""Term"", labels = c(""2018"", ""2019"", ""2020"")) +"
"0","  geom_text(aes(label = round(Percent,1)), position = position_dodge(width = .9), vjust = 0.2, hjust = -0.1, size = 3,angle = 90) +"
"0","  scale_y_continuous(expand = c(0.1, .1))"
"0",""
"0",""
"0","pfwplot <- ggplot(percent_pfw, aes(x = pfw, y= Percent, fill = Term)) + "
"0","  geom_bar(stat = ""identity"", position = position_dodge(width = .9), width = .8) + "
"0","  scale_x_discrete(labels=c(""PASS"" = ""PASS \n(A, B, OR C)"", ""FAIL"" = ""FAIL \n(D OR F)"", ""W"" = ""W""))+"
"0","  ggsci::scale_fill_npg(name = ""Term"", labels = c(""2018"", ""2019"", ""2020"")) +"
"0","  geom_text(aes(label = round(Percent,1)), position = position_dodge(width = .9), vjust = 0.2, hjust = -0.1, size = 3,angle = 90) +"
"0","  scale_y_continuous(expand = c(0.1, .1))+"
"0","  xlab(""Outcome"")"
"0",""
"0","ggarrange(p,pfwplot,widths = c(2, 1),align = 'h',  common.legend = TRUE, labels = ""AUTO"")  %>%"
"0","  ggexport(filename = ""lettersandpassfail.png"","
"0","  width = 640,"
"0","  height = 480)    "
